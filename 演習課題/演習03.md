# 演習03 (設計の理解)

本プロジェクトに対して、小数点(`.`)を追加することを目指して以下の演習を実施せよ。

```csharp
var actual = "1.2+1.3".GetChars().Tokenize().Parse()?.RootToken?.GetValue();
Assert.Equal(2.5, actual);
```

## 演習03-0: (基本設計の理解)

`/docs/01.Architecture.md`と、各クラス定義を見比べて、どの機能がどのように配置されていて、
どのような機能を実現しているかを確認せよ。

## 演習03-1: (新しいシナリオの追加とインタフェースの変更)

### 演習03-1-(1)

現在GetValue()の結果が`int`になっているため、小数を扱えるように`double`に変更せよ。
その際、`/docs/02.01.Token.md`を参照し、`Token`オブジェクトに関連しているクラスを確認せよ。

> 修正対象範囲を明確にすること。

### 演習03-1-(2)

その後`FormulaTokenizer.Tests/SenarioTests/*.cs`に小数のテストケースを追加せよ。

## 演習03-2: (フロー図の理解)

### 演習03-2-(1)

`/docs/02.01.Token.md`の処理フローを理解し、小数を扱えるように改修せよ

### 演習03-2-(2)

`FormulaTokenizer.Tests/UnitTests/*TokenTest.cs`に小数のテストケースを追加せよ。

> テストケースの追加には`FormulaTokenizer.Test/Comparer/NearByComparer.cs`を活用したほうが良い。

### 演習03-2-(3)

演習03-2-(1)のフロー図を元に`NumberToken.GetValue()`を改修せよ。

## 演習03-3: (状態遷移フレームワークの理解)

`/docs/02.05.StateMachineFramework.md`の内容を理解して状態遷移フレームワークの役割構造を理解せよ。

## 演習03-4: (状態遷移の理解)

### 演習03-4-(1)

`/docs/02.02.Parser.md`を確認して、トークンを切り出せることを確認せよ。

### 演習03-4-(2)

状態遷移図、デシジョンテーブルに小数点(`.`)を加えることで小数を扱えるように改修せよ。

### 演習03-4-(3)

状態遷移図、デイジョンテーブルを`Parser.cs`と比較して小数を扱えるように訂正せよ。

## 演習05

`dotnet test`を実行することで、最終動作確認をせよ。
